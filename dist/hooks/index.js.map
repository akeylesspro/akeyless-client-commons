{"version":3,"sources":["c:\\work\\akeyless\\commons\\client_commons\\dist\\hooks\\index.js"],"names":["__create","Object","create","__defProp","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","__export","target","all","name","get","enumerable","__copyProps","to","from","except","desc","key","call","__toESM","mod","isNodeMode","__esModule","value","__toCommonJS","hooks_exports","useDocumentTitle","useSafeEffect","useSetUserCountry","useSnapshotBulk","module","exports","import_akeyless_types_commons2","require","import_react","import_moment","import_app","import_storage","import_auth","import_firestore","import_meta","initApp","isNodeEnv","process","env","firebaseConfig","apiKey","NEXT_PUBLIC_API_KEY","VITE_API_KEY","authDomain","NEXT_PUBLIC_AUTH_DOMAIN","VITE_AUTH_DOMAIN","projectId","NEXT_PUBLIC_PROJECT_ID","VITE_PROJECT_ID","storageBucket","NEXT_PUBLIC_STORAGE_BUCKET","VITE_STORAGE_BUCKET","messagingSenderId","NEXT_PUBLIC_MESSAGING_SENDER_ID","VITE_MESSAGING_SENDER_ID","appId","NEXT_PUBLIC_APP_ID","VITE_APP_ID","app","initializeApp","auth2","getAuth","db2","getFirestore","storage2","getStorage","db","auth","storage","error","console","collections","clients","collection","sites","cars","users","lastLocations","ermEvents","erm2Events","ruptelaEvents","polygons","polygonEvents","polygonCars","canbus","states","app_pro_commands_queue","trips","tripsDetails","audit","nx_settings","settings","translations","nx_cars","boards","protection_types","board_types","charge_capacities","fire_base_TIME_TEMP","Timestamp","now","simpleExtractData","doc2","docData","data","id","snapshot","config","snapshotsFirstTime","resolvePromise","isResolved","promise","Promise","resolve","log","collectionName","collectionRef","conditions","forEach","condition","query","where","field_name","operator","unsubscribe","onSnapshot","snapshot2","includes","push","documents","docs","map","onFirstTime","extraParsers","extraParser","addedDocs","modifiedDocs","removedDocs","docChanges","change","type","doc","length","onAdd","onModify","onRemove","import_akeyless_types_commons","import_axios","import_libphonenumber_js","getUserCountryByIp","response","default","country_code","CountryOptions","IL","toLowerCase","import_xregexp","textRegex","numbersRegex","numbersOnlyRegex","priceRegex","emailRegex","colorRegex","carsRegex","textNumbersRegex","addressRegex","chartsRegex","import_clsx","import_tailwind_merge","import_firestore2","import_moment_timezone","callback","dependencies","error_message","useEffect","title","document","configs","label","useRef","unsubscribeFunctions","start","performance","snapshotResults","current","result","then","toFixed","JSON","stringify","setUserCountry","changLang","useLayoutEffect","currentCountry","localStorage","getItem","updateCountry","country","setItem","import_react2"],"mappings":"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","sourcesContent":["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/hooks/index.ts\nvar hooks_exports = {};\n__export(hooks_exports, {\n  useDocumentTitle: () => useDocumentTitle,\n  useSafeEffect: () => useSafeEffect,\n  useSetUserCountry: () => useSetUserCountry,\n  useSnapshotBulk: () => useSnapshotBulk\n});\nmodule.exports = __toCommonJS(hooks_exports);\n\n// src/hooks/global.ts\nvar import_akeyless_types_commons2 = require(\"akeyless-types-commons\");\nvar import_react = require(\"react\");\n\n// src/helpers/firebase.ts\nvar import_moment = __toESM(require(\"moment\"));\nvar import_app = require(\"firebase/app\");\nvar import_storage = require(\"firebase/storage\");\nvar import_auth = require(\"firebase/auth\");\nvar import_firestore = require(\"firebase/firestore\");\nvar import_meta = {};\nvar initApp = () => {\n  const isNodeEnv = typeof process !== \"undefined\" && process.env;\n  const firebaseConfig = {\n    apiKey: isNodeEnv ? process.env.NEXT_PUBLIC_API_KEY : import_meta.env.VITE_API_KEY,\n    authDomain: isNodeEnv ? process.env.NEXT_PUBLIC_AUTH_DOMAIN : import_meta.env.VITE_AUTH_DOMAIN,\n    projectId: isNodeEnv ? process.env.NEXT_PUBLIC_PROJECT_ID : import_meta.env.VITE_PROJECT_ID,\n    storageBucket: isNodeEnv ? process.env.NEXT_PUBLIC_STORAGE_BUCKET : import_meta.env.VITE_STORAGE_BUCKET,\n    messagingSenderId: isNodeEnv ? process.env.NEXT_PUBLIC_MESSAGING_SENDER_ID : import_meta.env.VITE_MESSAGING_SENDER_ID,\n    appId: isNodeEnv ? process.env.NEXT_PUBLIC_APP_ID : import_meta.env.VITE_APP_ID\n  };\n  try {\n    const app = (0, import_app.initializeApp)(firebaseConfig);\n    const auth2 = (0, import_auth.getAuth)(app);\n    const db2 = (0, import_firestore.getFirestore)(app);\n    const storage2 = (0, import_storage.getStorage)(app);\n    return { db: db2, auth: auth2, storage: storage2 };\n  } catch (error) {\n    console.error(\"Failed to initialize Firebase app:\", error);\n    return { db: null, auth: null };\n  }\n};\nvar { db, auth, storage } = initApp();\nvar collections = {\n  clients: (0, import_firestore.collection)(db, \"nx-clients\"),\n  sites: (0, import_firestore.collection)(db, \"nx-sites\"),\n  cars: (0, import_firestore.collection)(db, \"units\"),\n  users: (0, import_firestore.collection)(db, \"nx-users\"),\n  lastLocations: (0, import_firestore.collection)(db, \"last_locations\"),\n  ermEvents: (0, import_firestore.collection)(db, \"erm_events_general\"),\n  erm2Events: (0, import_firestore.collection)(db, \"erm2_events_general\"),\n  ruptelaEvents: (0, import_firestore.collection)(db, \"ruptela_events_general\"),\n  polygons: (0, import_firestore.collection)(db, \"nx-polygons\"),\n  polygonEvents: (0, import_firestore.collection)(db, \"polygon_events\"),\n  polygonCars: (0, import_firestore.collection)(db, \"polygon_cars\"),\n  canbus: (0, import_firestore.collection)(db, \"erm_canbus_parameters\"),\n  states: (0, import_firestore.collection)(db, \"erm_states\"),\n  app_pro_commands_queue: (0, import_firestore.collection)(db, \"app_pro_commands_queue\"),\n  trips: (0, import_firestore.collection)(db, \"erm2_trip\"),\n  tripsDetails: (0, import_firestore.collection)(db, \"erm2_trip_details\"),\n  audit: (0, import_firestore.collection)(db, \"nx-audit\"),\n  nx_settings: (0, import_firestore.collection)(db, \"nx-settings\"),\n  settings: (0, import_firestore.collection)(db, \"settings\"),\n  translations: (0, import_firestore.collection)(db, \"nx-translations\"),\n  nx_cars: (0, import_firestore.collection)(db, \"nx-cars\"),\n  boards: (0, import_firestore.collection)(db, \"boards\"),\n  protection_types: (0, import_firestore.collection)(db, \"protectionTypes\"),\n  board_types: (0, import_firestore.collection)(db, \"boardTypes\"),\n  charge_capacities: (0, import_firestore.collection)(db, \"nx-charge-capacities\")\n};\nvar fire_base_TIME_TEMP = import_firestore.Timestamp.now;\nvar simpleExtractData = (doc2) => {\n  const docData = doc2.data();\n  return {\n    ...docData,\n    id: doc2.id\n  };\n};\nvar snapshot = (config, snapshotsFirstTime) => {\n  let resolvePromise;\n  let isResolved = false;\n  const promise = new Promise((resolve) => {\n    console.log(`==> ${config.collectionName} subscribed.`);\n    resolvePromise = () => {\n      if (!isResolved) {\n        isResolved = true;\n        resolve();\n      }\n    };\n  });\n  let collectionRef = (0, import_firestore.collection)(db, config.collectionName);\n  if (config.conditions) {\n    config.conditions.forEach((condition) => {\n      collectionRef = (0, import_firestore.query)(collectionRef, (0, import_firestore.where)(condition.field_name, condition.operator, condition.value));\n    });\n  }\n  const unsubscribe = (0, import_firestore.onSnapshot)(\n    collectionRef,\n    (snapshot2) => {\n      if (!snapshotsFirstTime.includes(config.collectionName)) {\n        snapshotsFirstTime.push(config.collectionName);\n        const documents = snapshot2.docs.map((doc2) => simpleExtractData(doc2));\n        config.onFirstTime?.(documents, config);\n        config.extraParsers?.forEach((extraParser) => {\n          extraParser.onFirstTime?.(documents, config);\n        });\n        resolvePromise();\n      } else {\n        const addedDocs = [];\n        const modifiedDocs = [];\n        const removedDocs = [];\n        snapshot2.docChanges().forEach((change) => {\n          if (change.type === \"added\") {\n            addedDocs.push(simpleExtractData(change.doc));\n          } else if (change.type === \"modified\") {\n            modifiedDocs.push(simpleExtractData(change.doc));\n          } else if (change.type === \"removed\") {\n            removedDocs.push(simpleExtractData(change.doc));\n          }\n        });\n        addedDocs.length && config.onAdd?.(addedDocs, config);\n        modifiedDocs.length && config.onModify?.(modifiedDocs, config);\n        removedDocs.length && config.onRemove?.(removedDocs, config);\n        config.extraParsers?.forEach((extraParser) => {\n          addedDocs.length && extraParser.onAdd?.(addedDocs, config);\n          modifiedDocs.length && extraParser.onModify?.(modifiedDocs, config);\n          removedDocs.length && extraParser.onRemove?.(removedDocs, config);\n        });\n      }\n    },\n    (error) => {\n      console.error(`Error listening to collection: ${config.collectionName}`, error);\n      resolvePromise();\n    }\n  );\n  return { promise, unsubscribe };\n};\n\n// src/helpers/global.ts\nvar import_akeyless_types_commons = require(\"akeyless-types-commons\");\nvar import_axios = __toESM(require(\"axios\"));\n\n// src/helpers/phoneNumber.ts\nvar import_libphonenumber_js = require(\"libphonenumber-js\");\n\n// src/helpers/global.ts\nvar getUserCountryByIp = async () => {\n  try {\n    const response = await import_axios.default.get(\"https://ipapi.co/json/\");\n    return (response.data.country_code || import_akeyless_types_commons.CountryOptions.IL).toLowerCase();\n  } catch (error) {\n    console.error(\"Error fetching Country:\", error);\n    return import_akeyless_types_commons.CountryOptions.IL;\n  }\n};\n\n// src/helpers/forms.ts\nvar import_xregexp = __toESM(require(\"xregexp\"));\nvar textRegex = (0, import_xregexp.default)(\"[^\\\\p{L}\\\\s-]\", \"gu\");\nvar numbersRegex = (0, import_xregexp.default)(\"[^0-9\\\\s-+]\", \"g\");\nvar numbersOnlyRegex = (0, import_xregexp.default)(\"[^0-9]\", \"g\");\nvar priceRegex = (0, import_xregexp.default)(\"[^0-9.]\", \"g\");\nvar emailRegex = (0, import_xregexp.default)(\"[^\\\\p{L}0-9.@\\\\s-]\", \"gu\");\nvar colorRegex = (0, import_xregexp.default)(\"[^#0-9A-Fa-f]\", \"g\");\nvar carsRegex = (0, import_xregexp.default)(\"[^\\\\p{L}0-9,_]\", \"gu\");\nvar textNumbersRegex = (0, import_xregexp.default)(\"[^\\\\p{L}0-9\\\\s+\\\\-]\", \"gu\");\nvar addressRegex = (0, import_xregexp.default)(\"[^\\\\p{L}0-9\\\\s.,\\\\-]\", \"gu\");\nvar chartsRegex = (0, import_xregexp.default)(\"[^\\\\p{L}0-9\\\\s.,_@!\\\\-]\", \"gu\");\n\n// src/lib/utils.ts\nvar import_clsx = require(\"clsx\");\nvar import_tailwind_merge = require(\"tailwind-merge\");\n\n// src/helpers/time_helpers.ts\nvar import_firestore2 = require(\"firebase/firestore\");\nvar import_moment_timezone = __toESM(require(\"moment-timezone\"));\n\n// src/hooks/global.ts\nfunction useSafeEffect(callback, dependencies, error_message) {\n  (0, import_react.useEffect)(() => {\n    try {\n      callback();\n    } catch (error) {\n      console.error(error_message || \"Error in useEffect:\", error);\n    }\n  }, dependencies);\n}\nvar useDocumentTitle = (title) => {\n  (0, import_react.useEffect)(() => {\n    document.title = title;\n  }, [title]);\n  return null;\n};\nvar useSnapshotBulk = (configs, label) => {\n  const snapshotsFirstTime = (0, import_react.useRef)([]);\n  const unsubscribeFunctions = (0, import_react.useRef)([]);\n  (0, import_react.useEffect)(() => {\n    const start = performance.now();\n    console.log(`==> ${label || \"Custom snapshots\"} started... `);\n    const snapshotResults = configs.map((config) => snapshot(config, snapshotsFirstTime.current));\n    unsubscribeFunctions.current = snapshotResults.map((result) => result.unsubscribe);\n    Promise.all(snapshotResults.map((result) => result.promise)).then(() => {\n      console.log(`==> ${label || \"Custom snapshots\"} ended. It took ${(performance.now() - start).toFixed(2)} ms`);\n    });\n  }, [JSON.stringify(configs), label]);\n  (0, import_react.useEffect)(() => {\n    return () => {\n      unsubscribeFunctions.current.forEach((unsubscribe) => {\n        if (unsubscribe) {\n          unsubscribe();\n        }\n      });\n    };\n  }, []);\n};\nvar useSetUserCountry = (setUserCountry, changLang) => {\n  (0, import_react.useLayoutEffect)(() => {\n    const currentCountry = localStorage.getItem(\"userCountry\");\n    if (!currentCountry) {\n      const updateCountry = async () => {\n        const country = await getUserCountryByIp();\n        changLang(country === import_akeyless_types_commons2.CountryOptions.IL ? \"he\" : \"en\");\n        setUserCountry(country);\n        localStorage.setItem(\"userCountry\", country);\n      };\n      updateCountry();\n    }\n  }, []);\n  return null;\n};\n\n// src/hooks/WebWorker.ts\nvar import_react2 = require(\"react\");\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  useDocumentTitle,\n  useSafeEffect,\n  useSetUserCountry,\n  useSnapshotBulk\n});\n"]}