{"version":3,"sources":["c:\\work\\akeyless\\commons\\client_commons\\dist\\hooks\\index.mjs"],"names":["CountryOptions","CountryOptions2","useEffect","useLayoutEffect","useRef","moment","initializeApp","getStorage","getAuth","addDoc","collection","deleteDoc","doc","getDoc","getDocs","query","setDoc","Timestamp","where","getFirestore","onSnapshot","initApp","isNodeEnv","process","env","firebaseConfig","apiKey","NEXT_PUBLIC_API_KEY","VITE_API_KEY","authDomain","NEXT_PUBLIC_AUTH_DOMAIN","VITE_AUTH_DOMAIN","projectId","NEXT_PUBLIC_PROJECT_ID","VITE_PROJECT_ID","storageBucket","NEXT_PUBLIC_STORAGE_BUCKET","VITE_STORAGE_BUCKET","messagingSenderId","NEXT_PUBLIC_MESSAGING_SENDER_ID","VITE_MESSAGING_SENDER_ID","appId","NEXT_PUBLIC_APP_ID","VITE_APP_ID","app","auth2","db2","storage2","db","auth","storage","error","console","collections","clients","sites","cars","users","lastLocations","ermEvents","erm2Events","ruptelaEvents","polygons","polygonEvents","polygonCars","canbus","states","app_pro_commands_queue","trips","tripsDetails","audit","nx_settings","settings","translations","nx_cars","boards","protection_types","board_types","charge_capacities","fire_base_TIME_TEMP","now","simpleExtractData","doc2","docData","data","id","snapshot","config","snapshotsFirstTime","resolvePromise","isResolved","promise","Promise","resolve","log","collectionName","collectionRef","conditions","forEach","condition","field_name","operator","value","unsubscribe","snapshot2","includes","push","documents","docs","map","onFirstTime","extraParsers","extraParser","addedDocs","modifiedDocs","removedDocs","docChanges","change","type","length","onAdd","onModify","onRemove","axios","parsePhoneNumberFromString","getUserCountryByIp","response","get","country_code","IL","toLowerCase","XRegExp","textRegex","numbersRegex","numbersOnlyRegex","priceRegex","emailRegex","colorRegex","carsRegex","textNumbersRegex","addressRegex","chartsRegex","clsx","twMerge","Timestamp2","moment2","useSafeEffect","callback","dependencies","error_message","useDocumentTitle","title","document","useSnapshotBulk","configs","label","unsubscribeFunctions","start","performance","snapshotResults","current","result","all","then","toFixed","JSON","stringify","useSetUserCountry","setUserCountry","changLang","currentCountry","localStorage","getItem","updateCountry","country","setItem","useCallback","useEffect2","useRef2"],"mappings":"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","sourcesContent":["// src/hooks/global.ts\nimport { CountryOptions as CountryOptions2 } from \"akeyless-types-commons\";\nimport { useEffect, useLayoutEffect, useRef } from \"react\";\n\n// src/helpers/firebase.ts\nimport moment from \"moment\";\nimport { initializeApp } from \"firebase/app\";\nimport { getStorage } from \"firebase/storage\";\nimport { getAuth } from \"firebase/auth\";\nimport {\n  addDoc,\n  collection,\n  deleteDoc,\n  doc,\n  getDoc,\n  getDocs,\n  query,\n  setDoc,\n  Timestamp,\n  where,\n  getFirestore,\n  onSnapshot\n} from \"firebase/firestore\";\nvar initApp = () => {\n  const isNodeEnv = typeof process !== \"undefined\" && process.env;\n  const firebaseConfig = {\n    apiKey: isNodeEnv ? process.env.NEXT_PUBLIC_API_KEY : import.meta.env.VITE_API_KEY,\n    authDomain: isNodeEnv ? process.env.NEXT_PUBLIC_AUTH_DOMAIN : import.meta.env.VITE_AUTH_DOMAIN,\n    projectId: isNodeEnv ? process.env.NEXT_PUBLIC_PROJECT_ID : import.meta.env.VITE_PROJECT_ID,\n    storageBucket: isNodeEnv ? process.env.NEXT_PUBLIC_STORAGE_BUCKET : import.meta.env.VITE_STORAGE_BUCKET,\n    messagingSenderId: isNodeEnv ? process.env.NEXT_PUBLIC_MESSAGING_SENDER_ID : import.meta.env.VITE_MESSAGING_SENDER_ID,\n    appId: isNodeEnv ? process.env.NEXT_PUBLIC_APP_ID : import.meta.env.VITE_APP_ID\n  };\n  try {\n    const app = initializeApp(firebaseConfig);\n    const auth2 = getAuth(app);\n    const db2 = getFirestore(app);\n    const storage2 = getStorage(app);\n    return { db: db2, auth: auth2, storage: storage2 };\n  } catch (error) {\n    console.error(\"Failed to initialize Firebase app:\", error);\n    return { db: null, auth: null };\n  }\n};\nvar { db, auth, storage } = initApp();\nvar collections = {\n  clients: collection(db, \"nx-clients\"),\n  sites: collection(db, \"nx-sites\"),\n  cars: collection(db, \"units\"),\n  users: collection(db, \"nx-users\"),\n  lastLocations: collection(db, \"last_locations\"),\n  ermEvents: collection(db, \"erm_events_general\"),\n  erm2Events: collection(db, \"erm2_events_general\"),\n  ruptelaEvents: collection(db, \"ruptela_events_general\"),\n  polygons: collection(db, \"nx-polygons\"),\n  polygonEvents: collection(db, \"polygon_events\"),\n  polygonCars: collection(db, \"polygon_cars\"),\n  canbus: collection(db, \"erm_canbus_parameters\"),\n  states: collection(db, \"erm_states\"),\n  app_pro_commands_queue: collection(db, \"app_pro_commands_queue\"),\n  trips: collection(db, \"erm2_trip\"),\n  tripsDetails: collection(db, \"erm2_trip_details\"),\n  audit: collection(db, \"nx-audit\"),\n  nx_settings: collection(db, \"nx-settings\"),\n  settings: collection(db, \"settings\"),\n  translations: collection(db, \"nx-translations\"),\n  nx_cars: collection(db, \"nx-cars\"),\n  boards: collection(db, \"boards\"),\n  protection_types: collection(db, \"protectionTypes\"),\n  board_types: collection(db, \"boardTypes\"),\n  charge_capacities: collection(db, \"nx-charge-capacities\")\n};\nvar fire_base_TIME_TEMP = Timestamp.now;\nvar simpleExtractData = (doc2) => {\n  const docData = doc2.data();\n  return {\n    ...docData,\n    id: doc2.id\n  };\n};\nvar snapshot = (config, snapshotsFirstTime) => {\n  let resolvePromise;\n  let isResolved = false;\n  const promise = new Promise((resolve) => {\n    console.log(`==> ${config.collectionName} subscribed.`);\n    resolvePromise = () => {\n      if (!isResolved) {\n        isResolved = true;\n        resolve();\n      }\n    };\n  });\n  let collectionRef = collection(db, config.collectionName);\n  if (config.conditions) {\n    config.conditions.forEach((condition) => {\n      collectionRef = query(collectionRef, where(condition.field_name, condition.operator, condition.value));\n    });\n  }\n  const unsubscribe = onSnapshot(\n    collectionRef,\n    (snapshot2) => {\n      if (!snapshotsFirstTime.includes(config.collectionName)) {\n        snapshotsFirstTime.push(config.collectionName);\n        const documents = snapshot2.docs.map((doc2) => simpleExtractData(doc2));\n        config.onFirstTime?.(documents, config);\n        config.extraParsers?.forEach((extraParser) => {\n          extraParser.onFirstTime?.(documents, config);\n        });\n        resolvePromise();\n      } else {\n        const addedDocs = [];\n        const modifiedDocs = [];\n        const removedDocs = [];\n        snapshot2.docChanges().forEach((change) => {\n          if (change.type === \"added\") {\n            addedDocs.push(simpleExtractData(change.doc));\n          } else if (change.type === \"modified\") {\n            modifiedDocs.push(simpleExtractData(change.doc));\n          } else if (change.type === \"removed\") {\n            removedDocs.push(simpleExtractData(change.doc));\n          }\n        });\n        addedDocs.length && config.onAdd?.(addedDocs, config);\n        modifiedDocs.length && config.onModify?.(modifiedDocs, config);\n        removedDocs.length && config.onRemove?.(removedDocs, config);\n        config.extraParsers?.forEach((extraParser) => {\n          addedDocs.length && extraParser.onAdd?.(addedDocs, config);\n          modifiedDocs.length && extraParser.onModify?.(modifiedDocs, config);\n          removedDocs.length && extraParser.onRemove?.(removedDocs, config);\n        });\n      }\n    },\n    (error) => {\n      console.error(`Error listening to collection: ${config.collectionName}`, error);\n      resolvePromise();\n    }\n  );\n  return { promise, unsubscribe };\n};\n\n// src/helpers/global.ts\nimport { CountryOptions } from \"akeyless-types-commons\";\nimport axios from \"axios\";\n\n// src/helpers/phoneNumber.ts\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\n\n// src/helpers/global.ts\nvar getUserCountryByIp = async () => {\n  try {\n    const response = await axios.get(\"https://ipapi.co/json/\");\n    return (response.data.country_code || CountryOptions.IL).toLowerCase();\n  } catch (error) {\n    console.error(\"Error fetching Country:\", error);\n    return CountryOptions.IL;\n  }\n};\n\n// src/helpers/forms.ts\nimport XRegExp from \"xregexp\";\nvar textRegex = XRegExp(\"[^\\\\p{L}\\\\s-]\", \"gu\");\nvar numbersRegex = XRegExp(\"[^0-9\\\\s-+]\", \"g\");\nvar numbersOnlyRegex = XRegExp(\"[^0-9]\", \"g\");\nvar priceRegex = XRegExp(\"[^0-9.]\", \"g\");\nvar emailRegex = XRegExp(\"[^\\\\p{L}0-9.@\\\\s-]\", \"gu\");\nvar colorRegex = XRegExp(\"[^#0-9A-Fa-f]\", \"g\");\nvar carsRegex = XRegExp(\"[^\\\\p{L}0-9,_]\", \"gu\");\nvar textNumbersRegex = XRegExp(\"[^\\\\p{L}0-9\\\\s+\\\\-]\", \"gu\");\nvar addressRegex = XRegExp(\"[^\\\\p{L}0-9\\\\s.,\\\\-]\", \"gu\");\nvar chartsRegex = XRegExp(\"[^\\\\p{L}0-9\\\\s.,_@!\\\\-]\", \"gu\");\n\n// src/lib/utils.ts\nimport { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\n// src/helpers/time_helpers.ts\nimport { Timestamp as Timestamp2 } from \"firebase/firestore\";\nimport moment2 from \"moment-timezone\";\n\n// src/hooks/global.ts\nfunction useSafeEffect(callback, dependencies, error_message) {\n  useEffect(() => {\n    try {\n      callback();\n    } catch (error) {\n      console.error(error_message || \"Error in useEffect:\", error);\n    }\n  }, dependencies);\n}\nvar useDocumentTitle = (title) => {\n  useEffect(() => {\n    document.title = title;\n  }, [title]);\n  return null;\n};\nvar useSnapshotBulk = (configs, label) => {\n  const snapshotsFirstTime = useRef([]);\n  const unsubscribeFunctions = useRef([]);\n  useEffect(() => {\n    const start = performance.now();\n    console.log(`==> ${label || \"Custom snapshots\"} started... `);\n    const snapshotResults = configs.map((config) => snapshot(config, snapshotsFirstTime.current));\n    unsubscribeFunctions.current = snapshotResults.map((result) => result.unsubscribe);\n    Promise.all(snapshotResults.map((result) => result.promise)).then(() => {\n      console.log(`==> ${label || \"Custom snapshots\"} ended. It took ${(performance.now() - start).toFixed(2)} ms`);\n    });\n  }, [JSON.stringify(configs), label]);\n  useEffect(() => {\n    return () => {\n      unsubscribeFunctions.current.forEach((unsubscribe) => {\n        if (unsubscribe) {\n          unsubscribe();\n        }\n      });\n    };\n  }, []);\n};\nvar useSetUserCountry = (setUserCountry, changLang) => {\n  useLayoutEffect(() => {\n    const currentCountry = localStorage.getItem(\"userCountry\");\n    if (!currentCountry) {\n      const updateCountry = async () => {\n        const country = await getUserCountryByIp();\n        changLang(country === CountryOptions2.IL ? \"he\" : \"en\");\n        setUserCountry(country);\n        localStorage.setItem(\"userCountry\", country);\n      };\n      updateCountry();\n    }\n  }, []);\n  return null;\n};\n\n// src/hooks/WebWorker.ts\nimport { useCallback, useEffect as useEffect2, useRef as useRef2 } from \"react\";\nexport {\n  useDocumentTitle,\n  useSafeEffect,\n  useSetUserCountry,\n  useSnapshotBulk\n};\n"]}